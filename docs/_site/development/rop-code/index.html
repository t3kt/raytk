<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>ROP Code - RayTK</title> <link rel="shortcut icon" href="/raytk/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/raytk/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-2MR97RZP0E"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-2MR97RZP0E'); </script> <script src="/raytk/assets/js/vendor/lunr.min.js"></script> <script src="/raytk/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>ROP Code | RayTK</title> <meta name="generator" content="Jekyll v4.3.1" /> <meta property="og:title" content="ROP Code" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Writing ROP Code" /> <meta property="og:description" content="Writing ROP Code" /> <link rel="canonical" href="https://t3kt.github.io/raytk/development/rop-code/" /> <meta property="og:url" content="https://t3kt.github.io/raytk/development/rop-code/" /> <meta property="og:site_name" content="RayTK" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2024-07-28T15:25:00-07:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="ROP Code" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-07-28T15:25:00-07:00","datePublished":"2024-07-28T15:25:00-07:00","description":"Writing ROP Code","headline":"ROP Code","mainEntityOfPage":{"@type":"WebPage","@id":"https://t3kt.github.io/raytk/development/rop-code/"},"url":"https://t3kt.github.io/raytk/development/rop-code/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/raytk/" class="site-title lh-tight"> RayTK </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <div class="nav-category">Guide</div> <ul class="nav-list"><li class="nav-list-item"><a href="/raytk/" class="nav-list-link">About RayTK</a></li><li class="nav-list-item"><a href="/raytk/guide/getting-started/" class="nav-list-link">Getting Started With RayTK</a></li><li class="nav-list-item"><a href="/raytk/guide/concepts/" class="nav-list-link">Concepts</a></li><li class="nav-list-item"><a href="/raytk/guide/palette/" class="nav-list-link">The Palette</a></li><li class="nav-list-item"><a href="/raytk/guide/tools/" class="nav-list-link">Editor Tools</a></li><li class="nav-list-item"><a href="/raytk/guide/inspector/" class="nav-list-link">The Inspector</a></li><li class="nav-list-item"><a href="/raytk/guide/tutorials/" class="nav-list-link">Tutorials</a></li><li class="nav-list-item"><a href="/raytk/guide/output-buffers/" class="nav-list-link">Output Buffers</a></li><li class="nav-list-item"><a href="/raytk/guide/variables/" class="nav-list-link">Variables</a></li><li class="nav-list-item"><a href="/raytk/guide/fields/" class="nav-list-link">Fields</a></li><li class="nav-list-item"><a href="/raytk/guide/iteration/" class="nav-list-link">Iteration</a></li><li class="nav-list-item"><a href="/raytk/guide/update/" class="nav-list-link">Updating Scenes</a></li><li class="nav-list-item"><a href="/raytk/guide/troubleshooting/" class="nav-list-link">Troubleshooting</a></li><li class="nav-list-item"><a href="/raytk/guide/optimization/" class="nav-list-link">Optimization Tips</a></li><li class="nav-list-item"><a href="/raytk/guide/addons/" class="nav-list-link">Addons</a></li><li class="nav-list-item"><a href="/raytk/guide/contact/" class="nav-list-link">Contact</a></li></ul> <div class="nav-category">Reference</div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/" class="nav-list-link">Operators</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Camera Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/camera/" class="nav-list-link">Camera Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/camera/basicCamera" class="nav-list-link">basicCamera</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/camera/cameraRemap" class="nav-list-link">cameraRemap</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/camera/fieldCamera" class="nav-list-link">fieldCamera</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/camera/fisheyeCamera" class="nav-list-link">fisheyeCamera</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/camera/linkedCamera" class="nav-list-link">linkedCamera</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/camera/lookAtCamera" class="nav-list-link">lookAtCamera</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/camera/orthoCamera" class="nav-list-link">orthoCamera</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/camera/splitCamera" class="nav-list-link">splitCamera</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Combine Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/combine/" class="nav-list-link">Combine Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/arrange" class="nav-list-link">arrange</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/boundLimit" class="nav-list-link">boundLimit</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/combine" class="nav-list-link">combine</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/combineFields" class="nav-list-link">combineFields</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/composeSdf" class="nav-list-link">composeSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/compositeFields" class="nav-list-link">compositeFields</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/edgeCombine" class="nav-list-link">edgeCombine</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/iterationSwitch" class="nav-list-link">iterationSwitch</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/layoutGrid" class="nav-list-link">layoutGrid</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/mergeFields" class="nav-list-link">mergeFields</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/mixFields" class="nav-list-link">mixFields</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/shapedCombine" class="nav-list-link">shapedCombine</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/simpleDiff" class="nav-list-link">simpleDiff</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/simpleIntersect" class="nav-list-link">simpleIntersect</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/simpleUnion" class="nav-list-link">simpleUnion</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/switch" class="nav-list-link">switch</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/combine/triPlanarCombine" class="nav-list-link">triPlanarCombine</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Convert Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/convert/" class="nav-list-link">Convert Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/coordTo2D" class="nav-list-link">coordTo2D</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/coordTo3D" class="nav-list-link">coordTo3D</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/crossSection" class="nav-list-link">crossSection</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/extrude" class="nav-list-link">extrude</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/extrudeLine" class="nav-list-link">extrudeLine</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/floatToSdf" class="nav-list-link">floatToSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/floatToVector" class="nav-list-link">floatToVector</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/projectPlane" class="nav-list-link">projectPlane</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/projectPolar" class="nav-list-link">projectPolar</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/revolve" class="nav-list-link">revolve</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/sampleAlongLine" class="nav-list-link">sampleAlongLine</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/sweep" class="nav-list-link">sweep</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/convert/vectorToFloat" class="nav-list-link">vectorToFloat</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Custom Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/custom/" class="nav-list-link">Custom Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/custom/customOp" class="nav-list-link">customOp</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Field Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/field/" class="nav-list-link">Field Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/field/atmosphereField" class="nav-list-link">atmosphereField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/axisDistanceField" class="nav-list-link">axisDistanceField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/bandField" class="nav-list-link">bandField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/blackbodyColorField" class="nav-list-link">blackbodyColorField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/cellTileField" class="nav-list-link">cellTileField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/chopField" class="nav-list-link">chopField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/colorRampField" class="nav-list-link">colorRampField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/colorSwitchField" class="nav-list-link">colorSwitchField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/constantColorField" class="nav-list-link">constantColorField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/constantField" class="nav-list-link">constantField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/constantSwitchField" class="nav-list-link">constantSwitchField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/curlNoiseField" class="nav-list-link">curlNoiseField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/dataTextureField" class="nav-list-link">dataTextureField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/domainColorField" class="nav-list-link">domainColorField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/enhancedWaveField" class="nav-list-link">enhancedWaveField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/hashField" class="nav-list-link">hashField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/hsvColorField" class="nav-list-link">hsvColorField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/iterationField" class="nav-list-link">iterationField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/magnetField" class="nav-list-link">magnetField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/metaballField" class="nav-list-link">metaballField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/multiPointDistanceField" class="nav-list-link">multiPointDistanceField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/nearestRingPointField" class="nav-list-link">nearestRingPointField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/noiseField" class="nav-list-link">noiseField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/normalField" class="nav-list-link">normalField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/pointDistanceField" class="nav-list-link">pointDistanceField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/polarCoordField" class="nav-list-link">polarCoordField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/polarVectorField" class="nav-list-link">polarVectorField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/positionField" class="nav-list-link">positionField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/rampField" class="nav-list-link">rampField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/rayField" class="nav-list-link">rayField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/reorderField" class="nav-list-link">reorderField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/sdfField" class="nav-list-link">sdfField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/sdfNormalField" class="nav-list-link">sdfNormalField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/spectralColorField" class="nav-list-link">spectralColorField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/stepField" class="nav-list-link">stepField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/terrainNoiseField" class="nav-list-link">terrainNoiseField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/texture1dField" class="nav-list-link">texture1dField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/texture3dField" class="nav-list-link">texture3dField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/textureField" class="nav-list-link">textureField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/triPlanarTextureField" class="nav-list-link">triPlanarTextureField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/uvField" class="nav-list-link">uvField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/waveField" class="nav-list-link">waveField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/waveVectorField" class="nav-list-link">waveVectorField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/waveletNoiseField" class="nav-list-link">waveletNoiseField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/field/worleyNoiseField" class="nav-list-link">worleyNoiseField</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Filter Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/filter/" class="nav-list-link">Filter Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/adjustColor" class="nav-list-link">adjustColor</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/applyTransform" class="nav-list-link">applyTransform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/assignAttribute" class="nav-list-link">assignAttribute</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/assignColor" class="nav-list-link">assignColor</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/assignDensity" class="nav-list-link">assignDensity</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/assignUV" class="nav-list-link">assignUV</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/axisRotate" class="nav-list-link">axisRotate</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/bend" class="nav-list-link">bend</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/cameraTransform" class="nav-list-link">cameraTransform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/cartesianToPolar" class="nav-list-link">cartesianToPolar</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/circularRepeat" class="nav-list-link">circularRepeat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/elongate" class="nav-list-link">elongate</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/extend" class="nav-list-link">extend</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/fieldExpr" class="nav-list-link">fieldExpr</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/fieldFunction" class="nav-list-link">fieldFunction</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/flip" class="nav-list-link">flip</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/fold" class="nav-list-link">fold</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/geometricSeriesSquareTile" class="nav-list-link">geometricSeriesSquareTile</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/gridClone" class="nav-list-link">gridClone</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/helixWarp" class="nav-list-link">helixWarp</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/hilbertCurveTransform" class="nav-list-link">hilbertCurveTransform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/instance" class="nav-list-link">instance</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/instanceField" class="nav-list-link">instanceField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/invert" class="nav-list-link">invert</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/iteratedTransform" class="nav-list-link">iteratedTransform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/kink" class="nav-list-link">kink</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/knife" class="nav-list-link">knife</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/lightTransform" class="nav-list-link">lightTransform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/limitArea" class="nav-list-link">limitArea</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/limitField" class="nav-list-link">limitField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/limitLight" class="nav-list-link">limitLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/linearClone" class="nav-list-link">linearClone</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/logPolarRepeat" class="nav-list-link">logPolarRepeat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/lookAtRotate" class="nav-list-link">lookAtRotate</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/magnet" class="nav-list-link">magnet</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/mirrorAxes" class="nav-list-link">mirrorAxes</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/mirrorOctant" class="nav-list-link">mirrorOctant</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/mirrorQuadrant" class="nav-list-link">mirrorQuadrant</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/mobiusTransform" class="nav-list-link">mobiusTransform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/modifyDistance" class="nav-list-link">modifyDistance</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/modifyNormals" class="nav-list-link">modifyNormals</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/modulo1D" class="nav-list-link">modulo1D</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/modulo2D" class="nav-list-link">modulo2D</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/modulo3D" class="nav-list-link">modulo3D</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/moduloDistance" class="nav-list-link">moduloDistance</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/moduloLine" class="nav-list-link">moduloLine</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/moduloPolar" class="nav-list-link">moduloPolar</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/moduloSpherical" class="nav-list-link">moduloSpherical</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/moduloToroidal" class="nav-list-link">moduloToroidal</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/onion" class="nav-list-link">onion</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/polarToCartesian" class="nav-list-link">polarToCartesian</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/quadTreeRepeat" class="nav-list-link">quadTreeRepeat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/quantizeCoords" class="nav-list-link">quantizeCoords</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/quantizeValue" class="nav-list-link">quantizeValue</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/radialClone" class="nav-list-link">radialClone</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/radialSlice" class="nav-list-link">radialSlice</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/rangeTransform" class="nav-list-link">rangeTransform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/rectangleRepeat" class="nav-list-link">rectangleRepeat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/reflect" class="nav-list-link">reflect</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/remapCoords" class="nav-list-link">remapCoords</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/reorderCoords" class="nav-list-link">reorderCoords</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/rescaleField" class="nav-list-link">rescaleField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/rescaleFloatField" class="nav-list-link">rescaleFloatField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/reshapeValues" class="nav-list-link">reshapeValues</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/restrictStage" class="nav-list-link">restrictStage</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/rotate" class="nav-list-link">rotate</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/rotate4D" class="nav-list-link">rotate4D</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/rotateNormals" class="nav-list-link">rotateNormals</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/round" class="nav-list-link">round</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/scale" class="nav-list-link">scale</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/slice" class="nav-list-link">slice</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/sphericalMobiusTransform" class="nav-list-link">sphericalMobiusTransform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/spin" class="nav-list-link">spin</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/spiralZoom" class="nav-list-link">spiralZoom</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/transform" class="nav-list-link">transform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/transformSequence" class="nav-list-link">transformSequence</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/translate" class="nav-list-link">translate</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/twirl" class="nav-list-link">twirl</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/twist" class="nav-list-link">twist</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/uvTransform" class="nav-list-link">uvTransform</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/filter/waveWarp" class="nav-list-link">waveWarp</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Function Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/function/" class="nav-list-link">Function Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/function/addFn" class="nav-list-link">addFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/almostIdentityFn" class="nav-list-link">almostIdentityFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/chopFn" class="nav-list-link">chopFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/colorPaletteFn" class="nav-list-link">colorPaletteFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/crossFn" class="nav-list-link">crossFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/cubicPulseFn" class="nav-list-link">cubicPulseFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/easeFn" class="nav-list-link">easeFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/extendFn" class="nav-list-link">extendFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/flipFn" class="nav-list-link">flipFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/gainFn" class="nav-list-link">gainFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/impulseFn" class="nav-list-link">impulseFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/joinFn" class="nav-list-link">joinFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/modulateFn" class="nav-list-link">modulateFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/multiplyFn" class="nav-list-link">multiplyFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/parabolaFn" class="nav-list-link">parabolaFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/pausingWaveFn" class="nav-list-link">pausingWaveFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/pennerEasingFn" class="nav-list-link">pennerEasingFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/powerCurveFn" class="nav-list-link">powerCurveFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/rainbowFn" class="nav-list-link">rainbowFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/sincCurveFn" class="nav-list-link">sincCurveFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/stepFn" class="nav-list-link">stepFn</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/function/waveFn" class="nav-list-link">waveFn</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Light Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/light/" class="nav-list-link">Light Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/light/ambientLight" class="nav-list-link">ambientLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/axisLight" class="nav-list-link">axisLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/directionalLight" class="nav-list-link">directionalLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/hardShadow" class="nav-list-link">hardShadow</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/instanceLight" class="nav-list-link">instanceLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/lightVolume" class="nav-list-link">lightVolume</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/linkedLight" class="nav-list-link">linkedLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/multiLight" class="nav-list-link">multiLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/pointLight" class="nav-list-link">pointLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/ringLight" class="nav-list-link">ringLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/softShadow" class="nav-list-link">softShadow</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/spotLight" class="nav-list-link">spotLight</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/light/volumetricRayCast" class="nav-list-link">volumetricRayCast</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Material Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/material/" class="nav-list-link">Material Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/material/backgroundFieldContrib" class="nav-list-link">backgroundFieldContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/basicMat" class="nav-list-link">basicMat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/colorizeSdf2d" class="nav-list-link">colorizeSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/diffuseContrib" class="nav-list-link">diffuseContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/goochShadingContrib" class="nav-list-link">goochShadingContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/hologramContrib" class="nav-list-link">hologramContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/iridescenceContrib" class="nav-list-link">iridescenceContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/matCapContrib" class="nav-list-link">matCapContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/modularMat" class="nav-list-link">modularMat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/pbrMat" class="nav-list-link">pbrMat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/phongMat" class="nav-list-link">phongMat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/reflectContrib" class="nav-list-link">reflectContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/reflectMat" class="nav-list-link">reflectMat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/rimContrib" class="nav-list-link">rimContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/sampledPointMat" class="nav-list-link">sampledPointMat</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/shadingProperty" class="nav-list-link">shadingProperty</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/shadowContrib" class="nav-list-link">shadowContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/skyLightContrib" class="nav-list-link">skyLightContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/specularContrib" class="nav-list-link">specularContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/subsurfaceContrib" class="nav-list-link">subsurfaceContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/surfaceColorContrib" class="nav-list-link">surfaceColorContrib</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/material/toonShadingContrib" class="nav-list-link">toonShadingContrib</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Output Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/output/" class="nav-list-link">Output Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/output/customRender" class="nav-list-link">customRender</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/output/fieldRender" class="nav-list-link">fieldRender</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/output/functionGraphRender" class="nav-list-link">functionGraphRender</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/output/pointMapRender" class="nav-list-link">pointMapRender</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/output/raymarchPreviewPanel" class="nav-list-link">raymarchPreviewPanel</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/output/raymarchRender3D" class="nav-list-link">raymarchRender3D</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/output/render2D" class="nav-list-link">render2D</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/output/renderSelect" class="nav-list-link">renderSelect</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/output/texture3dRender" class="nav-list-link">texture3dRender</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/output/volumetricRaymarchRender3D" class="nav-list-link">volumetricRaymarchRender3D</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Pattern Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/pattern/" class="nav-list-link">Pattern Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/blobRingPattern" class="nav-list-link">blobRingPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/brickPattern" class="nav-list-link">brickPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/checkerPattern" class="nav-list-link">checkerPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/gridPattern" class="nav-list-link">gridPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/hexagonalGridPattern" class="nav-list-link">hexagonalGridPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/hexagonalTruchetPattern" class="nav-list-link">hexagonalTruchetPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/hexagonalWeavePattern" class="nav-list-link">hexagonalWeavePattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/knitPattern" class="nav-list-link">knitPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/rosettePattern" class="nav-list-link">rosettePattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/snubQuadrilePattern" class="nav-list-link">snubQuadrilePattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/spiralPattern" class="nav-list-link">spiralPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/tilingPattern" class="nav-list-link">tilingPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/triangleCheckerPattern" class="nav-list-link">triangleCheckerPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/truchetPattern" class="nav-list-link">truchetPattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/waveGreekFriezePattern" class="nav-list-link">waveGreekFriezePattern</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/pattern/weavePattern" class="nav-list-link">weavePattern</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Post Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/post/" class="nav-list-link">Post Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/post/depthMap" class="nav-list-link">depthMap</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/post/nearHitMap" class="nav-list-link">nearHitMap</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/post/objectIdMask" class="nav-list-link">objectIdMask</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/post/stepMap" class="nav-list-link">stepMap</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/post/worldPosMap" class="nav-list-link">worldPosMap</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Sdf Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/sdf/" class="nav-list-link">Sdf Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/amazingSurfaceSdf" class="nav-list-link">amazingSurfaceSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/apollonianSdf" class="nav-list-link">apollonianSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/archSdf" class="nav-list-link">archSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/bezierSdf" class="nav-list-link">bezierSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/boxFrameSdf" class="nav-list-link">boxFrameSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/boxSdf" class="nav-list-link">boxSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/bunnySdf" class="nav-list-link">bunnySdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/capsuleSdf" class="nav-list-link">capsuleSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/chainSdf" class="nav-list-link">chainSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/chamferBoxSdf" class="nav-list-link">chamferBoxSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/coneSdf" class="nav-list-link">coneSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/crescentSdf" class="nav-list-link">crescentSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/crossSdf" class="nav-list-link">crossSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/cutSphereSdf" class="nav-list-link">cutSphereSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/cylinderSdf" class="nav-list-link">cylinderSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/discSdf" class="nav-list-link">discSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/dodecahedronFractalSdf" class="nav-list-link">dodecahedronFractalSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/ellipsoidSdf" class="nav-list-link">ellipsoidSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/generalizedPolyhedronSdf" class="nav-list-link">generalizedPolyhedronSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/geodesicSdf" class="nav-list-link">geodesicSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/gridSdf" class="nav-list-link">gridSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/gyroidSdf" class="nav-list-link">gyroidSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/headSdf" class="nav-list-link">headSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/helixSdf" class="nav-list-link">helixSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/hyperbolicParaboloidSdf" class="nav-list-link">hyperbolicParaboloidSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/jointSdf" class="nav-list-link">jointSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/juliaSdf" class="nav-list-link">juliaSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/kaliGeneratorSdf" class="nav-list-link">kaliGeneratorSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/latticeSdf" class="nav-list-link">latticeSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/lineSeriesSdf" class="nav-list-link">lineSeriesSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/linkSdf" class="nav-list-link">linkSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/mandelbulbSdf" class="nav-list-link">mandelbulbSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/mengerSpongeSdf" class="nav-list-link">mengerSpongeSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/mobiusRingSdf" class="nav-list-link">mobiusRingSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/octahedronSdf" class="nav-list-link">octahedronSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/petalSdf" class="nav-list-link">petalSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/pistonSdf" class="nav-list-link">pistonSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/planeSdf" class="nav-list-link">planeSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/polyhedronSdf" class="nav-list-link">polyhedronSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/prismSdf" class="nav-list-link">prismSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/pyramidSdf" class="nav-list-link">pyramidSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/quadSdf" class="nav-list-link">quadSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/ringsSdf" class="nav-list-link">ringsSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/segmentedLineSdf" class="nav-list-link">segmentedLineSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/solidAngleSdf" class="nav-list-link">solidAngleSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/sphereFbmSdf" class="nav-list-link">sphereFbmSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/sphereGridSdf" class="nav-list-link">sphereGridSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/sphereSdf" class="nav-list-link">sphereSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/spiralSdf" class="nav-list-link">spiralSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/springSdf" class="nav-list-link">springSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/stackSdf" class="nav-list-link">stackSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/tetrahedronSdf" class="nav-list-link">tetrahedronSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/torusGridSdf" class="nav-list-link">torusGridSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/torusSdf" class="nav-list-link">torusSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/truncatedPyramidSdf" class="nav-list-link">truncatedPyramidSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/twistedRingsSdf" class="nav-list-link">twistedRingsSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf/vesicaSegmentSdf" class="nav-list-link">vesicaSegmentSdf</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Sdf2d Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/sdf2d/" class="nav-list-link">Sdf2d Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/arbitraryPolygonSdf2d" class="nav-list-link">arbitraryPolygonSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/arcSdf2d" class="nav-list-link">arcSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/archSdf2d" class="nav-list-link">archSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/arrowSdf2d" class="nav-list-link">arrowSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/bezierSdf2d" class="nav-list-link">bezierSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/blobbyCrossSdf2d" class="nav-list-link">blobbyCrossSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/branchingTreeSdf2d" class="nav-list-link">branchingTreeSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/chamferRectangleSdf2d" class="nav-list-link">chamferRectangleSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/circleSdf" class="nav-list-link">circleSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/circleWaveSdf2d" class="nav-list-link">circleWaveSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/coolSSdf2d" class="nav-list-link">coolSSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/cornerSdf2d" class="nav-list-link">cornerSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/crossSdf2d" class="nav-list-link">crossSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/cutDiscSdf2d" class="nav-list-link">cutDiscSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/dogBoneSdf2d" class="nav-list-link">dogBoneSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/eggSdf2d" class="nav-list-link">eggSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/ellipseSdf2d" class="nav-list-link">ellipseSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/flowerSdf2d" class="nav-list-link">flowerSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/heartSdf2d" class="nav-list-link">heartSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/hexagonalGridSdf2d" class="nav-list-link">hexagonalGridSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/horseshoeSdf2d" class="nav-list-link">horseshoeSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/isoscelesTriangleSdf2d" class="nav-list-link">isoscelesTriangleSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/jointSdf2d" class="nav-list-link">jointSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/kochSnowflakeSdf2d" class="nav-list-link">kochSnowflakeSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/lineSegmentSdf2d" class="nav-list-link">lineSegmentSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/moonSdf2d" class="nav-list-link">moonSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/parabolaSdf2d" class="nav-list-link">parabolaSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/parallelogramSdf2d" class="nav-list-link">parallelogramSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/pieSdf2d" class="nav-list-link">pieSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/pistonSdf2d" class="nav-list-link">pistonSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/planeSdf2d" class="nav-list-link">planeSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/polySplineSdf2d" class="nav-list-link">polySplineSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/polygonSdf2d" class="nav-list-link">polygonSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/quadSdf2d" class="nav-list-link">quadSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/rectangleSdf" class="nav-list-link">rectangleSdf</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/rhombilleTilingSdf2d" class="nav-list-link">rhombilleTilingSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/rhombusSdf2d" class="nav-list-link">rhombusSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/roundedRectangleSdf2d" class="nav-list-link">roundedRectangleSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/spikeSdf2d" class="nav-list-link">spikeSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/spiralSdf2d" class="nav-list-link">spiralSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/stairSdf2d" class="nav-list-link">stairSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/starSdf2d" class="nav-list-link">starSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/subdivisionSdf2d" class="nav-list-link">subdivisionSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/superQuadSdf2d" class="nav-list-link">superQuadSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/textSdf2d" class="nav-list-link">textSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/trapezoidSdf2d" class="nav-list-link">trapezoidSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/triangleSdf2d" class="nav-list-link">triangleSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/triangularGridSdf2d" class="nav-list-link">triangularGridSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/vesicaSdf2d" class="nav-list-link">vesicaSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/vesicaSegmentSdf2d" class="nav-list-link">vesicaSegmentSdf2d</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/sdf2d/wedgeSdf2d" class="nav-list-link">wedgeSdf2d</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Time Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/time/" class="nav-list-link">Time Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/time/lfoField" class="nav-list-link">lfoField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/time/timeField" class="nav-list-link">timeField</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/time/timeShift" class="nav-list-link">timeShift</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Utility Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/utility/" class="nav-list-link">Utility Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/exposeValue" class="nav-list-link">exposeValue</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/getAttribute" class="nav-list-link">getAttribute</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/injectGlobalPosition" class="nav-list-link">injectGlobalPosition</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/injectObjectId" class="nav-list-link">injectObjectId</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/lfoGenerator" class="nav-list-link">lfoGenerator</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/paramFilter" class="nav-list-link">paramFilter</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/providePosition" class="nav-list-link">providePosition</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/provideVariable" class="nav-list-link">provideVariable</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/restrictTypes" class="nav-list-link">restrictTypes</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/speedGenerator" class="nav-list-link">speedGenerator</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/variableList" class="nav-list-link">variableList</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/utility/variableReference" class="nav-list-link">variableReference</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Volume Operators category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/raytk/reference/operators/volume/" class="nav-list-link">Volume Operators</a><ul class="nav-list"><li class="nav-list-item "> <a href="/raytk/reference/operators/volume/fieldVolume" class="nav-list-link">fieldVolume</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/volume/sdfVolume" class="nav-list-link">sdfVolume</a> </li><li class="nav-list-item "> <a href="/raytk/reference/operators/volume/texture3dVolume" class="nav-list-link">texture3dVolume</a> </li></ul></li></ul></li></ul> <div class="nav-category">Development</div> <ul class="nav-list"><li class="nav-list-item"><a href="/raytk/development/rop-structure/" class="nav-list-link">ROP Structure</a></li><li class="nav-list-item active"><a href="/raytk/development/rop-code/" class="nav-list-link active">ROP Code</a></li><li class="nav-list-item"><a href="/raytk/development/build-process/" class="nav-list-link">The Build Process</a></li><li class="nav-list-item"><a href="/raytk/development/type-handling/" class="nav-list-link">Data Type Handling</a></li><li class="nav-list-item"><a href="/raytk/development/raymarching-process/" class="nav-list-link">The Raymarching Process</a></li><li class="nav-list-item"><a href="/raytk/development/variables/" class="nav-list-link">Variable Handling</a></li><li class="nav-list-item"><a href="/raytk/development/documentation/" class="nav-list-link">Documentation Processing</a></li><li class="nav-list-item"><a href="/raytk/development/rop-elements/" class="nav-list-link">ROP Elements</a></li><li class="nav-list-item"><a href="/raytk/development/shader-builder/" class="nav-list-link">Shader Builder</a></li></ul> <div class="nav-category">Community</div> <ul class="nav-list"><li class="nav-list-item"><a href="/raytk/community/showcase/" class="nav-list-link">Community Showcase</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search RayTK" aria-label="Search RayTK" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/t3kt/raytk" class="site-button" > View on GitHub </a> </li> <li class="aux-nav-list-item"> <a href="//github.com/t3kt/raytk/releases" class="site-button" > Downloads </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="writing-rop-code"> <a href="#writing-rop-code" class="anchor-heading" aria-labelledby="writing-rop-code"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Writing ROP Code </h1> <p>Each ROP has one primary block of “function” code, and several other optional code blocks. Most of these blocks are designed to contain top-level declarations of variables and/or functions. Some blocks are intended to contain a snippet of code that will be inserted into another generated function.</p> <details open=""> <summary class="text-delta"> Table of contents </summary> <ol id="markdown-toc"> <li><a href="#rop-names" id="markdown-toc-rop-names">ROP Names</a></li> <li><a href="#code-blocks" id="markdown-toc-code-blocks">Code Blocks</a></li> <li><a href="#preprocessing-applied-to-code-blocks" id="markdown-toc-preprocessing-applied-to-code-blocks">Preprocessing Applied to Code Blocks</a></li> <li><a href="#general-guidelines-for-rop-code" id="markdown-toc-general-guidelines-for-rop-code">General Guidelines for ROP Code</a></li> <li><a href="#parameters" id="markdown-toc-parameters">Parameters</a></li> <li><a href="#macros" id="markdown-toc-macros">Macros</a> <ol> <li><a href="#global-macros" id="markdown-toc-global-macros">Global Macros</a></li> </ol> </li> <li><a href="#types" id="markdown-toc-types">Types</a></li> <li><a href="#inputs" id="markdown-toc-inputs">Inputs</a></li> <li><a href="#textures" id="markdown-toc-textures">Textures</a></li> <li><a href="#buffers" id="markdown-toc-buffers">Buffers</a></li> <li><a href="#materials" id="markdown-toc-materials">Materials</a></li> <li><a href="#contexts" id="markdown-toc-contexts">Contexts</a> <ol> <li><a href="#default-context" id="markdown-toc-default-context">Default Context</a> <ol> <li><a href="#context-iteration" id="markdown-toc-context-iteration">Context Iteration</a></li> </ol> </li> <li><a href="#camera-context" id="markdown-toc-camera-context">Camera Context</a></li> <li><a href="#lightcontext" id="markdown-toc-lightcontext">LightContext</a></li> <li><a href="#materialcontext" id="markdown-toc-materialcontext">MaterialContext</a></li> </ol> </li> <li><a href="#working-with-sdf-results" id="markdown-toc-working-with-sdf-results">Working with SDF Results</a></li> </ol> </details> <h2 id="rop-names"> <a href="#rop-names" class="anchor-heading" aria-labelledby="rop-names"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROP Names </h2> <p>Each ROP has a unique name generated for it based on the ROP’s path. These names are used throughout the toolkit and the shader code.</p> <h2 id="code-blocks"> <a href="#code-blocks" class="anchor-heading" aria-labelledby="code-blocks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Code Blocks </h2> <ul> <li>OP globals: Global declarations such as variables or functions used by the OP.</li> <li>Init code: A snippet of code that the shader will call before running the rest of the shader code. Typically this is used to set up the values of global variables.</li> <li>Function: Declaration of the ROP’s primary function. This can also contain supplemental functions used by the primary function.</li> <li>Material: A snippet of code that is inserted into a function that determines the color for a surface when the surface matches the ROP’s material id.</li> </ul> <h2 id="preprocessing-applied-to-code-blocks"> <a href="#preprocessing-applied-to-code-blocks" class="anchor-heading" aria-labelledby="preprocessing-applied-to-code-blocks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Preprocessing Applied to Code Blocks </h2> <p>Each block of code is passed through a series of modifications before eventually being injected into the shader.</p> <p>The following symbols are replaced everywhere, even if they are part of a longer symbol (such as <code class="language-plaintext highlighter-rouge">THIS_Foo</code>):</p> <ul> <li><code class="language-plaintext highlighter-rouge">THIS_</code>: The ROP name. This is used as a way to add unique prefixes to function / variable / macro names.</li> <li><code class="language-plaintext highlighter-rouge">thismap</code>: Also the ROP name. This is intended for the name of the ROP’s primary function.</li> <li><code class="language-plaintext highlighter-rouge">THISMAT</code>: Unique material ID generated for the ROP (if applicable). This is implemented as a macro that resolves to a unique integer.</li> <li><code class="language-plaintext highlighter-rouge">inputOp1</code> - <code class="language-plaintext highlighter-rouge">inputOp4</code>: The names of the attached input ROPs.</li> </ul> <p>The following type aliases are replaced, only when they appear as a whole word without prefix or suffix:</p> <ul> <li><code class="language-plaintext highlighter-rouge">CoordT</code>: The ROP’s coordinate type.</li> <li><code class="language-plaintext highlighter-rouge">ContextT</code>: The ROP’s context type.</li> <li><code class="language-plaintext highlighter-rouge">ReturnT</code>: The ROP’s return type.</li> </ul> <h2 id="general-guidelines-for-rop-code"> <a href="#general-guidelines-for-rop-code" class="anchor-heading" aria-labelledby="general-guidelines-for-rop-code"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General Guidelines for ROP Code </h2> <p>The generated shader contains combined elements from all of the blocks of all of the ROPs in the scene. This means that any declared symbols used by one ROP can’t conflict with those of any other ROP, including other instances of the same ROP type. To avoid conflicts, all global symbols (functions, variables, macros) should use the <code class="language-plaintext highlighter-rouge">THIS_</code> prefix to keep them unique.</p> <h2 id="parameters"> <a href="#parameters" class="anchor-heading" aria-labelledby="parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parameters </h2> <p>Each parameter defined by a ROP and listed in the definition’s parameter list and special parameter list will be made available to all code as an alias macro like <code class="language-plaintext highlighter-rouge">THIS_Paramname</code> that references whatever the source of the parameter value is. Typically this will be a reference to the uniform array that is used to pass in parameter values. In some cases they could also be inlined values.</p> <p>For multi-part parameters (<code class="language-plaintext highlighter-rouge">Par</code> styles including <code class="language-plaintext highlighter-rouge">XYZ</code>, <code class="language-plaintext highlighter-rouge">RGBA</code>, <code class="language-plaintext highlighter-rouge">UV</code> and <code class="language-plaintext highlighter-rouge">Float</code>/<code class="language-plaintext highlighter-rouge">Int</code> with more than 1 part) the alias evaluates to a value of the relevant <code class="language-plaintext highlighter-rouge">vec*</code> type, with the name of the tuplet without any suffix, which combines all of those parts (e.g. <code class="language-plaintext highlighter-rouge">THIS_Translate</code>).</p> <p>For parameters in the definition’s “macro” parameter list, an alias will be generated that evaluates to the literal inlined value of that parameter. For numeric parameters, this will be a simple inline float/int value.</p> <p>For menu parameters, there will be a macro evaluating to the selected menu name itself (which is only useful when that is a valid piece of code such as a swizzle like <code class="language-plaintext highlighter-rouge">xy</code>). There will also be a macro that appends the selected menu name to the end of the parameter name separated by an underscore (e.g. <code class="language-plaintext highlighter-rouge">THIS_Param_value</code>), which is typically used for <code class="language-plaintext highlighter-rouge">#ifdef</code> blocks.</p> <p>It is important to remember that because macro-based parameters use inlined values, any changes to them will cause the shader to rebuild. This is both a limitation (if the user wants to be able to change them quickly) and an optimization which avoids having to pass in those values and also allows GPU driver optimizations like dead code removal and loop unrolling.</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define PREFIX_Amount       vecParams[17].y
#define PREFIX_Translatex   vecParams[18].x
#define PREFIX_Translatey   vecParams[18].y
#define PREFIX_Translate    vec2(vecParams[18].xy)
#define PREFIX_Inlined      12.5
#define PREFIX_Plane        yz
#define PREFIX_Plane_yz
</span></code></pre></div></div> <h2 id="macros"> <a href="#macros" class="anchor-heading" aria-labelledby="macros"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Macros </h2> <p>Each ROP can define several groups of macros. These are specified in DATs with 3 columns, which can involve evaluating Python expressions. The first column is checked for either <code class="language-plaintext highlighter-rouge">False</code> or <code class="language-plaintext highlighter-rouge">0</code>, stripping out those macros. This is used to toggle macros based on expressions. The second column is either the macro name, or the macro name and expression separated by a space. The third column is treated as the macro’s value expression.</p> <div class="table-wrapper"><table> <thead> <tr> <th>0</th> <th>1</th> <th>2</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">op("foo")["x"] &gt; 2</code></td> <td><code class="language-plaintext highlighter-rouge">'THIS_HAS_TWO_THINGS'</code></td> <td> </td> </tr> <tr> <td> </td> <td><code class="language-plaintext highlighter-rouge">'THIS_USE_THINGS'</code></td> <td> </td> </tr> <tr> <td> </td> <td><code class="language-plaintext highlighter-rouge">'THIS_STUFF'</code></td> <td><code class="language-plaintext highlighter-rouge">'vec2(0.3, 0.1)'</code></td> </tr> <tr> <td> </td> <td><code class="language-plaintext highlighter-rouge">'THIS_FOO 3.5'</code></td> <td> </td> </tr> </tbody> </table></div> <p>Evaluates to:</p> <div class="table-wrapper"><table> <thead> <tr> <th>0</th> <th>1</th> <th>2</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">False</code></td> <td><code class="language-plaintext highlighter-rouge">THIS_HAS_TWO_THINGS</code></td> <td> </td> </tr> <tr> <td> </td> <td><code class="language-plaintext highlighter-rouge">'THIS_USE_THINGS'</code></td> <td> </td> </tr> <tr> <td> </td> <td><code class="language-plaintext highlighter-rouge">THIS_STUFF</code></td> <td><code class="language-plaintext highlighter-rouge">vec2(0.3, 0.1)</code></td> </tr> <tr> <td> </td> <td><code class="language-plaintext highlighter-rouge">THIS_FOO 3.5</code></td> <td> </td> </tr> </tbody> </table></div> <p>Generates:</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define PREFIX_USE_THINGS
#define PREFIX_STUFF  vec2(0.3, 0.1)
#define PREFIX_FOO 3.5
</span></code></pre></div></div> <p>Each ROP can have one explicitly defined macro table, and some number of generated tables produced by various helper subcomponents.</p> <h3 id="global-macros"> <a href="#global-macros" class="anchor-heading" aria-labelledby="global-macros"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Global Macros </h3> <p>ROPs can also define a table of “global” macros. These differ from ROP-specific macros in that they are included earlier in the shader before library includes. They are intended to enable features within shared libraries.</p> <h2 id="types"> <a href="#types" class="anchor-heading" aria-labelledby="types"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Types </h2> <p>As mentioned above, the symbols <code class="language-plaintext highlighter-rouge">CoordT</code>, <code class="language-plaintext highlighter-rouge">ContextT</code> and <code class="language-plaintext highlighter-rouge">ReturnT</code> are replaced with the relevant types of the ROP. This is implemented using type alias macros such as <code class="language-plaintext highlighter-rouge">THIS_CoordT</code> which evaluates to a types such as <code class="language-plaintext highlighter-rouge">vec2</code> or <code class="language-plaintext highlighter-rouge">float</code>. Each ROP will also generate macros that append the type name such as <code class="language-plaintext highlighter-rouge">THIS_COORD_TYPE_vec2</code> and <code class="language-plaintext highlighter-rouge">THIS_RETURN_TYPE_Sdf</code>. These are typically used for switching blocks of code using <code class="language-plaintext highlighter-rouge">#ifdef</code>.</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define PREFIX_CoordT   vec3
#define PREFIX_ContextT Context
#define PREFIX_ReturnT  Sdf
#define PREFIX_COORD_TYPE_vec3
#define PREFIX_CONTEXT_TYPE_Context
#define PREFIX_RETURN_TYPE_Sdf
</span></code></pre></div></div> <h2 id="inputs"> <a href="#inputs" class="anchor-heading" aria-labelledby="inputs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Inputs </h2> <p>When a ROP has an input definition, aliases like <code class="language-plaintext highlighter-rouge">inputOp3</code> are replaced by the name of that definition. This can be used both as a reference to that ROP’s primary function, and as a prefix for macros.</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifdef inputOp1_COORD_TYPE_vec2
</span><span class="n">Sdf</span> <span class="n">res</span> <span class="o">=</span> <span class="n">inputOp1</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span> <span class="n">ctx</span><span class="p">);</span>
<span class="cp">#else
</span><span class="n">Sdf</span> <span class="n">res</span> <span class="o">=</span> <span class="n">inputOp1</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">ctx</span><span class="p">);</span>
<span class="cp">#endif
</span></code></pre></div></div> <h2 id="textures"> <a href="#textures" class="anchor-heading" aria-labelledby="textures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Textures </h2> <p>A ROP can define a table of textures, each of which have a name and a path to a TOP. Each one will generate a prefixed macro like <code class="language-plaintext highlighter-rouge">THIS_textureName</code>. The output OP will use <code class="language-plaintext highlighter-rouge">select TOP</code>s to pull from the provided TOPs and feed them into the <code class="language-plaintext highlighter-rouge">glsl TOP</code> as inputs. The generated macros refer to the input textures by the index of the attached input.</p> <p>Generated macro:</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define PREFIX_texture sTD2DInputs[3]
</span></code></pre></div></div> <p>Usage in ROP function:</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ReturnT</span> <span class="nf">thismap</span><span class="p">(</span><span class="n">CoordT</span> <span class="n">p</span><span class="p">,</span> <span class="n">ContextT</span> <span class="n">ctx</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">texture</span><span class="p">(</span><span class="n">THIS_texture</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">xy</span><span class="p">).</span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="buffers"> <a href="#buffers" class="anchor-heading" aria-labelledby="buffers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Buffers </h2> <h2 id="materials"> <a href="#materials" class="anchor-heading" aria-labelledby="materials"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Materials </h2> <p>ROPs that define materials provide the “Material” code block. These OPs automatically generate a unique integer material identifier, which is made available to the ROP as <code class="language-plaintext highlighter-rouge">THISMAT</code>. SDF operators set the <code class="language-plaintext highlighter-rouge">material</code> (and/or <code class="language-plaintext highlighter-rouge">material2</code> field in the <code class="language-plaintext highlighter-rouge">Sdf</code> struct), which then gets passed along to the ouput shader’s <code class="language-plaintext highlighter-rouge">map()</code> function return value. The output shader then inserts the provided code snippet into a generated switch block, which is run when the result’s material id matches the generated material id for the ROP.</p> <p>Typically ROPs will define a prefixed function in their “Function” block and then call it within the “Material” snippet.</p> <p>Function block:</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ReturnT</span> <span class="nf">thismap</span><span class="p">(</span><span class="n">CoordT</span> <span class="n">p</span><span class="p">,</span> <span class="n">ContextT</span> <span class="n">ctx</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">Sdf</span> <span class="n">res</span> <span class="o">=</span> <span class="n">inputOp1</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">ctx</span><span class="p">);</span>
  <span class="n">assignMaterial</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">THISMAT</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">vec3</span> <span class="nf">THIS_getColor</span><span class="p">(</span><span class="n">CoordT</span> <span class="n">p</span><span class="p">,</span> <span class="n">MaterialContext</span> <span class="n">matCtx</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">THIS_Color</span><span class="p">;</span> <span class="c1">// ....</span>
<span class="p">}</span>
</code></pre></div></div> <p>Material snippet:</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">col</span><span class="p">.</span><span class="n">rgb</span> <span class="o">=</span> <span class="n">THIS_getColor</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">matCtx</span><span class="p">);</span>
</code></pre></div></div> <p>That snippet is inserted into a function like:</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">vec3</span> <span class="nf">getColor</span><span class="p">(</span><span class="kt">vec3</span> <span class="n">p</span><span class="p">,</span> <span class="n">MaterialContext</span> <span class="n">matCtx</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">vec3</span> <span class="n">col</span> <span class="o">=</span> <span class="kt">vec3</span><span class="p">(</span><span class="mi">0</span><span class="p">.);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="o">==</span> <span class="n">MAT_PREFIX_1_ETC</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">col</span><span class="p">.</span><span class="n">rgb</span> <span class="o">=</span> <span class="n">PREFIX_1_getColor</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">matCtx</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="o">==</span> <span class="n">MAT_PREFIX_2_ABC</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">col</span><span class="p">.</span><span class="n">rgb</span> <span class="o">=</span> <span class="n">PREFIX_2_getColor</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">matCtx</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="c1">//...</span>
  <span class="k">return</span> <span class="n">col</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="contexts"> <a href="#contexts" class="anchor-heading" aria-labelledby="contexts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Contexts </h2> <p>ROP functions are called with two parameters: a coordinate <code class="language-plaintext highlighter-rouge">p</code>, and a secondary context value <code class="language-plaintext highlighter-rouge">ctx</code>. The context value contains information about the context for which the function is being called. This includes both fixed global values and values that are modified or provided by one ROP and passed to the input ROPs that it calls.</p> <p>There are several different types of contexts, each used for different reasons that a ROP is being called by the output OP’s shader.</p> <h3 id="default-context"> <a href="#default-context" class="anchor-heading" aria-labelledby="default-context"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default Context </h3> <p>The <code class="language-plaintext highlighter-rouge">Context</code> type is used for the primary call made by the shader to evaluate the scene result. For raymarching, this is for the call at each marching step to evaluate the scene SDF. For 2D rendering, this is for the call made for each pixel to determine the output values.</p> <h4 id="context-iteration"> <a href="#context-iteration" class="anchor-heading" aria-labelledby="context-iteration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Context Iteration </h4> <p>The <code class="language-plaintext highlighter-rouge">Context</code> type includes an <code class="language-plaintext highlighter-rouge">iteration</code> field which certain ROPs populate with different values depending on how/where it’s calling an input. The value is a <code class="language-plaintext highlighter-rouge">vec4</code>, where the first value is an “index” and the second is a “total count”. The third and fourth are not yet used.</p> <p>Example ROPs that provide iteration values:</p> <ul> <li>The <code class="language-plaintext highlighter-rouge">reflect</code> ROP sets a value of <code class="language-plaintext highlighter-rouge">vec4(0, 2, 0, 0)</code> when calling the input if it is one one side of the reflection plane and a value of 1 when calling the input on the other side.</li> <li>The <code class="language-plaintext highlighter-rouge">mirrorOctant</code> ROP sets a different value for each quadrant, <code class="language-plaintext highlighter-rouge">vec4(0, 4, 0, 0)</code> for one quadrant, <code class="language-plaintext highlighter-rouge">vec4(1, 4, 0, 0)</code> for the next, and so on.</li> </ul> <p>Several types of ROPs make use of the iteration values passed to them:</p> <ul> <li>The <code class="language-plaintext highlighter-rouge">iterationField</code> ROP will return the iteration in one of several formats (raw index, scaled to total count, full <code class="language-plaintext highlighter-rouge">vec4</code> data, etc).</li> <li>The <code class="language-plaintext highlighter-rouge">iterationSwitch</code> ROP will call one input for index 0 and the other for index 1.</li> </ul> <h3 id="camera-context"> <a href="#camera-context" class="anchor-heading" aria-labelledby="camera-context"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Camera Context </h3> <p>The <code class="language-plaintext highlighter-rouge">CameraContext</code> is used in raymarching when determining the position and direction of the camera ray. It contains information such as the render resolution, which can be used with the normalized UV coordinates in <code class="language-plaintext highlighter-rouge">p</code> to calculate values based on pixel offsets.</p> <h3 id="lightcontext"> <a href="#lightcontext" class="anchor-heading" aria-labelledby="lightcontext"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LightContext </h3> <p>The <code class="language-plaintext highlighter-rouge">LightContext</code> is used in raymarching when determining the relevant light position and color for a surface ray hit. It includes the surface <code class="language-plaintext highlighter-rouge">Sdf</code> result and the surface normal vector.</p> <h3 id="materialcontext"> <a href="#materialcontext" class="anchor-heading" aria-labelledby="materialcontext"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> MaterialContext </h3> <p>The <code class="language-plaintext highlighter-rouge">MaterialContext</code> is used in raymarching when calculating the color to use for a ray surface hit. It includes the <code class="language-plaintext highlighter-rouge">Sdf</code> result, the camera <code class="language-plaintext highlighter-rouge">Ray</code>, the computed <code class="language-plaintext highlighter-rouge">Light</code>, and other properties used by materials.</p> <h2 id="working-with-sdf-results"> <a href="#working-with-sdf-results" class="anchor-heading" aria-labelledby="working-with-sdf-results"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Working with SDF Results </h2> <p>The <code class="language-plaintext highlighter-rouge">Sdf</code> struct represents a ray hitting a surface (so a more accurate name might be <code class="language-plaintext highlighter-rouge">SurfaceHit</code>). It includes information about that surface and properties of the ray process that caused the hit. The struct is the only way that an SDF-based operator can pass value to the ROP that called it.</p> <p>The struct will contain different fields depending on whether those features are being used. For example, if the “Object ID” output buffer is being used, it contains an <code class="language-plaintext highlighter-rouge">objectId</code> field. Because the struct can contain different types of fields, it is important to use the provided functions for things like creating and modifying them, rather than manually constructing them.</p> <p>This code is problematic because it fails to account for properties like material blending settings, reflection properties (if those are being used), near hit values (if those are being used), etc:</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Sdf</span> <span class="n">badRes</span><span class="p">;</span>
<span class="n">badRes</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">dist</span><span class="p">;</span>
<span class="n">badRes</span><span class="p">.</span><span class="n">material</span> <span class="o">=</span> <span class="n">THISMAT</span><span class="p">;</span>
<span class="k">return</span> <span class="n">badRes</span><span class="p">;</span>
</code></pre></div></div> <p>This code uses the provided functions to create and modify the <code class="language-plaintext highlighter-rouge">Sdf</code> value, which properly handle all the fields that are being used:</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Sdf</span> <span class="n">goodRes</span> <span class="o">=</span> <span class="n">createSdf</span><span class="p">(</span><span class="n">dist</span><span class="p">);</span>
<span class="n">assignMaterial</span><span class="p">(</span><span class="n">goodRes</span><span class="p">,</span> <span class="n">THISMAT</span><span class="p">);</span>
<span class="k">return</span> <span class="n">goodRes</span><span class="p">;</span>
</code></pre></div></div> <p>Similarly, when combining two <code class="language-plaintext highlighter-rouge">Sdf</code> values, ROPs should use the <code class="language-plaintext highlighter-rouge">blendInSdf()</code> function, which appropriately handles all the fields:</p> <div class="language-glsl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Sdf</span> <span class="n">res1</span> <span class="o">=</span> <span class="n">inputOp1</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">ctx</span><span class="p">);</span>
<span class="n">Sdf</span> <span class="n">res2</span> <span class="o">=</span> <span class="n">inputOp2</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">ctx</span><span class="p">);</span>
<span class="n">Sdf</span> <span class="n">combinedRes</span> <span class="o">=</span> <span class="n">res1</span><span class="p">;</span>
<span class="n">combinedRes</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">res1</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">res2</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">ratio</span> <span class="o">=</span> <span class="n">smoothBlendRatio</span><span class="p">(</span><span class="n">res1</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">res2</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">THIS_Foo</span><span class="p">);</span>
<span class="n">blendInSdf</span><span class="p">(</span><span class="n">combinedRes</span><span class="p">,</span> <span class="n">res2</span><span class="p">,</span> <span class="n">ratio</span><span class="p">);</span>
<span class="k">return</span> <span class="n">combinedRes</span><span class="p">;</span>
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
